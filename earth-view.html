<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/svg+xml" href="/vite.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Earth View - NASA EONET Real-time Events</title>
	</head>
	<body>
		<div id="app"></div>

		<!-- Navigation -->
		<nav id="earth-nav">
			<a href="index.html" class="nav-btn">🌌 Solar System</a>
			<h1>🌍 Earth View - NASA EONET Events</h1>
			<button id="auto-rotate-btn" class="nav-btn">🔄 Auto Rotate</button>
		</nav>

		<!-- Enhanced EONET Data Controls -->
		<div id="earth-eonet-controls">
			<div class="control-section">
				<h3>🛰️ Live Events</h3>
				<div id="event-counter">Loading events...</div>
				<button id="refresh-data" class="refresh-btn">
					🔄 Refresh Data
				</button>
			</div>

			<div class="control-section">
				<h4>📊 Filter Events</h4>
				<div class="filter-buttons">
					<button id="filter-all" class="filter-btn active">
						All Events
					</button>
					<button id="filter-wildfires" class="filter-btn">
						🔥 Wildfires
					</button>
					<button id="filter-volcanoes" class="filter-btn">
						🌋 Volcanoes
					</button>
					<button id="filter-earthquakes" class="filter-btn">
						🌍 Earthquakes
					</button>
					<button id="filter-storms" class="filter-btn">
						🌪️ Storms
					</button>
					<button id="filter-floods" class="filter-btn">
						🌊 Floods
					</button>
				</div>
			</div>

			<div class="control-section">
				<h4>☀️ Sunlight Simulation</h4>
				<div class="sunlight-controls">
					<div class="time-display">
						<label>Current Time:</label>
						<span id="current-time">
							<div class="time-main">12:00</div>
							<div class="time-details">Loading... • Local</div>
						</span>
					</div>

					<div class="timezone-controls">
						<label>
							<input
								type="radio"
								name="time-mode"
								id="local-time"
								checked
							/>
							🌍 Local Time
						</label>
						<label>
							<input
								type="radio"
								name="time-mode"
								id="utc-time"
							/>
							🌐 UTC Time
						</label>
						<div id="timezone-info" class="timezone-info">
							Detecting timezone...
						</div>
					</div>

					<div class="time-control-buttons">
						<button id="pause-play-btn" class="time-control-btn">
							⏸️ Pause
						</button>
					</div>

					<label>
						<input type="checkbox" id="real-time" checked />
						Real-time Simulation
					</label>

					<label>
						<input
							type="range"
							id="manual-time"
							min="0"
							max="24"
							step="0.1"
							value="12"
							disabled
						/>
						Manual Time (Hours)
					</label>

					<label>
						<input
							type="range"
							id="time-speed"
							min="0.1"
							max="100"
							step="0.1"
							value="1"
							disabled
						/>
						Time Speed (x)
					</label>

					<div class="time-presets">
						<button class="time-preset-btn" data-time="6">
							🌅 Dawn
						</button>
						<button class="time-preset-btn" data-time="12">
							☀️ Noon
						</button>
						<button class="time-preset-btn" data-time="18">
							🌇 Dusk
						</button>
						<button class="time-preset-btn" data-time="0">
							🌙 Midnight
						</button>
					</div>
				</div>
			</div>

			<div class="control-section">
				<h4>🎨 Visual Settings</h4>
				<div class="visual-controls">
					<label>
						<input
							type="range"
							id="marker-size"
							min="0.1"
							max="1"
							step="0.1"
							value="0.5"
						/>
						Marker Size
					</label>
					<label>
						<input
							type="range"
							id="animation-speed"
							min="0.1"
							max="3"
							step="0.1"
							value="1"
						/>
						Animation Speed
					</label>
					<label>
						<input type="checkbox" id="show-labels" checked />
						Show Event Labels
					</label>
					<button
						id="toggle-user-marker"
						class="user-location-btn active"
					>
						👤 Hide My Location
					</button>
				</div>
			</div>

			<div class="control-section legend">
				<h4>🏷️ Event Types</h4>
				<div class="legend-item">
					<span class="marker wildfire"></span>Wildfire
				</div>
				<div class="legend-item">
					<span class="marker volcano"></span>Volcano
				</div>
				<div class="legend-item">
					<span class="marker earthquake"></span>Earthquake
				</div>
				<div class="legend-item">
					<span class="marker storm"></span>Storm
				</div>
				<div class="legend-item">
					<span class="marker flood"></span>Flood
				</div>
				<div class="legend-item">
					<span class="marker drought"></span>Drought
				</div>
			</div>
		</div>

		<!-- Event Details Panel -->
		<div id="event-details" class="hidden">
			<div class="details-header">
				<h3>Event Details</h3>
				<button id="close-details">×</button>
			</div>
			<div class="details-content">
				<div id="event-info"></div>
			</div>
		</div>

		<!-- Loading Overlay -->
		<div id="loading-overlay">
			<div class="loading-content">
				<div class="loading-spinner"></div>
				<p>Loading Earth and NASA EONET data...</p>
			</div>
		</div>

		<script type="module" src="earth-view.js"></script>
	</body>
</html>
